# Подключаемся к подпольному чату

Баба Зина ведёт двойную жизнь. Днём она печёт пирожки, гуляет с внуками и вяжет на спицах, а ночью – виртуозно строит в Майнкрафт фермы и курятники. Детство в деревне – это вам не кусь кошачий.

На днях по Майнкрафт-сообществу прошла радостная новость: несколько умельцев создали чат для обмена кодами. Анонимный, история сообщений не сохраняется, войти и выйти можно в любой момент. Идеальное место для читеров.

Баба Зина просто обязана в него попасть! Иначе и лидерство по району потерять недолго. Вот только пользоваться компьютером за пределами Майнкрафта она умеет не очень хорошо.

Напишите программу, чтобы через командную строку таскать для бабы Зины коды:

1. Подключитесь к чату
2. Сохраните историю переписки
3. Включитесь в переписку

## Как установить

Создайте файл окружения в корне проекта `.env`.  

Заполните переменные окружения в файле `.env`:
 - `HOST`: `minechat.dvmn.org` (адрес чат-сервера)
- `PORT`: `5000` (порт чат-сервера)
- `PORT_SEND_MESSAGE`: `5050` (порт для отправки сообщений в чат-сервера)
- `CHAT_USERNAME` - имя пользователя в чате (можно зарегистрировать, запустив файл `minechat_writer.py`)
- `USER_TOKEN` - ваш токен пользователя для входа в учетную запись чата (можно получить, запустив файл `minechat_writer.py`)
- `HISTORY` - название файла для сохранения перписки чата

Python3 должен быть уже установлен. 
Затем используйте [poetry](https://python-poetry.org/docs/) для установки зависимостей:
```
poetry install
```

### Порядок работы

Запустите из корневой папки скрипт minechat_reader.py для отображения чата
```
python minechat_reader.py
```
При необходимости укажите адрес сервера, порт и название файла для сохранения переписки через ключи --host, --port и --history соответсвенно, либо укажите их в файле `.env`

В отдельном окне из корневой папки заупстите скрипт minechat_writer.py для регистрации:
```
python minechat_reader.py 
--username [никнейм для создания нового пользователя] 
--message [сообщение в чат]
```
или отправки сообщения:
```
python minechat_reader.py 
--token [токен пользователя для подключения к чату] 
--message [сообщение в чат]
```
Вы можете также указать адрес чат-севрера и порт для отправки сообщений через команды --host и --port соответсвеннно.

### Цель проекта

Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org/).